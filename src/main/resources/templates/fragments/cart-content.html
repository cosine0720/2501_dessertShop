<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>購物車內容</title>
</head>
<body>
<div>
    <div class="container mt-5">
        <h2>購物車</h2>
        <div class="table-responsive">
            <table class="table">
                <thead>
                <tr>
                    <th>商品</th>
                    <th>單價</th>
                    <th>數量</th>
                    <th>小計</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="item : ${cartItems}">
                    <td th:text="${item.product.name}"></td>
                    <td th:text="${'NT$ ' + item.product.price}"></td>
                    <td>
                        <input type="number" th:value="${item.quantity}"
                               th:data-id="${item.id}" class="form-control quantity-input"
                               min="1" style="width: 80px;">
                    </td>
                    <td th:text="${'NT$ ' + item.product.price.multiply(new java.math.BigDecimal(item.quantity))}"></td>
                    <td>
                        <button class="btn btn-danger btn-sm remove-item"
                                th:data-id="${item.id}">刪除</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="text-end mt-3">
            <a href="/checkout" class="btn btn-primary">結帳</a>
        </div>
    </div>
</div>


</body>
</html>